<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shopvandoan AUTO</title>

<style>
body{margin:0;font-family:Arial;background:#0f0f0f;color:white}
header{background:linear-gradient(90deg,red,orange);padding:20px;text-align:center;font-size:24px;font-weight:bold}
.container{padding:20px}
.card{background:#1c1c1c;padding:20px;margin:20px 0;border-radius:15px;box-shadow:0 0 15px red}
.card img{width:100%;border-radius:10px;margin-top:10px}
button{background:red;color:white;border:none;padding:8px 15px;border-radius:10px;cursor:pointer;margin-top:10px}
button:hover{background:darkred}
input{padding:8px;width:95%;margin:5px 0;border-radius:8px;border:none}
.small-btn{background:#444}
.small-btn:hover{background:#666}
#adminPanel{display:none}
#cartBox{position:fixed;top:10px;right:10px;background:black;padding:10px;border-radius:10px}
</style>
</head>

<body>

<header>ğŸ”¥ SHOPVANDOAN AUTO ğŸ”¥</header>

<div id="cartBox">
ğŸ›’ Giá» hÃ ng: <span id="cartCount">0</span>
</div>

<div class="container">

<div id="productList"></div>

<div class="card">
<h2>Thanh toÃ¡n MB Bank</h2>
<p>STK: 03032610202009</p>
<img src="qrmb.jpg" width="200">
<button onclick="thanhToan()">TÃ´i Ä‘Ã£ chuyá»ƒn khoáº£n</button>
</div>

<div class="card">
<h3>Admin Login</h3>
<input type="text" id="adminUser" placeholder="User">
<input type="password" id="adminPass" placeholder="Pass">
<button onclick="adminLogin()">ÄÄƒng nháº­p</button>
</div>

<div id="adminPanel" class="card">
<h3>â• ThÃªm Acc</h3>
<input type="text" id="tenSP" placeholder="TÃªn sáº£n pháº©m">
<input type="text" id="giaSP" placeholder="GiÃ¡ tiá»n">
<input type="text" id="hinhSP" placeholder="Link hÃ¬nh áº£nh">
<input type="text" id="listAcc" placeholder="Danh sÃ¡ch acc (cÃ¡ch nhau báº±ng dáº¥u pháº©y)">
<button onclick="themSP()">LÆ°u sáº£n pháº©m</button>

<h3>ğŸ” Äá»•i máº­t kháº©u admin</h3>
<input type="password" id="newPass" placeholder="Máº­t kháº©u má»›i">
<button onclick="doiPass()">Äá»•i máº­t kháº©u</button>
</div>

</div>

<script>

let cart = JSON.parse(localStorage.getItem("cart")) || [];
let adminPassword = localStorage.getItem("adminPass") || "123";

function loadProducts(){
    let data = JSON.parse(localStorage.getItem("products")) || [];
    let html="";
    data.forEach((sp,index)=>{
        html+=`
        <div class="card">
        <h2>${sp.ten}</h2>
        <p>GiÃ¡: ${sp.gia}</p>
        ${sp.hinh ? `<img src="${sp.hinh}">` : ""}
        <button onclick="addCart(${index})">ThÃªm vÃ o giá»</button>
        <button class="small-btn" onclick="xoaSP(${index})">XoÃ¡</button>
        </div>
        `;
    });
    document.getElementById("productList").innerHTML=html;
    document.getElementById("cartCount").innerText=cart.length;
}

function themSP(){
    let ten=tenSP.value;
    let gia=giaSP.value;
    let hinh=hinhSP.value;
    let acc=listAcc.value.split(",");

    let data=JSON.parse(localStorage.getItem("products"))||[];
    data.push({ten,gia,hinh,acc});
    localStorage.setItem("products",JSON.stringify(data));
    alert("ÄÃ£ thÃªm sáº£n pháº©m");
    loadProducts();
}

function xoaSP(i){
    let data=JSON.parse(localStorage.getItem("products"))||[];
    data.splice(i,1);
    localStorage.setItem("products",JSON.stringify(data));
    loadProducts();
}

function addCart(i){
    cart.push(i);
    localStorage.setItem("cart",JSON.stringify(cart));
    loadProducts();
}

function thanhToan(){
    let data=JSON.parse(localStorage.getItem("products"))||[];
    if(cart.length==0){alert("Giá» hÃ ng trá»‘ng");return;}

    let result="ğŸ‰ ACC Cá»¦A Báº N:\n\n";
    cart.forEach(i=>{
        let sp=data[i];
        if(sp.acc.length>0){
            let acc=sp.acc.shift();
            result+=sp.ten+": "+acc+"\n";
        }else{
            result+=sp.ten+": Háº¿t acc\n";
        }
    });

    localStorage.setItem("products",JSON.stringify(data));
    cart=[];
    localStorage.setItem("cart","[]");
    alert(result);
    loadProducts();
}

function adminLogin(){
    if(adminUser.value=="admin" && adminPass.value==adminPassword){
        adminPanel.style.display="block";
        alert("ÄÄƒng nháº­p thÃ nh cÃ´ng");
    }else{
        alert("Sai tÃ i khoáº£n");
    }
}

function doiPass(){
    adminPassword=newPass.value;
    localStorage.setItem("adminPass",adminPassword);
    alert("ÄÃ£ Ä‘á»•i máº­t kháº©u");
}

loadProducts();

</script>

</body>
</html>
